<!DOCTYPE html>
<html>

<head>
  <title>JavaScript Test</title>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script>


window.addEventListener('load',init,false);

context = null;

function init() {

  var oscillator = null

  $("#stop").click(function(){
      oscillator.stop(0);
  });

  $("#play440").click(function(){
    oscillator = context.createOscillator();
    oscillator.type = 3;
    oscillator.frequency.value = 440;
    oscillator.connect(context.destination);
    oscillator.start(0); // Start generating sound immediately    
  });

  $("#play220").click(function(){
    oscillator = context.createOscillator();
    oscillator.type = 3;
    oscillator.frequency.value = 220;
    oscillator.connect(context.destination);
    oscillator.start(0); // Start generating sound immediately    
  });

  $("#play110").click(function(){
    oscillator = context.createOscillator();
    oscillator.type = 3;
    oscillator.frequency.value = 110;
    oscillator.connect(context.destination);
    oscillator.start(0); // Start generating sound immediately    
  });


  window.alert("Entering init function");

  try {
   
    window.AudioContext = window.AudioContext || window.webkitAudioContext;
    context = new AudioContext();

  }
  catch(e) {
    alert('Web Audio API is not supported in this browser');
  }

  

  window.alert("Exiting init function");

}
</script>

</head>

<body>
<h1 id="stop">Stop</h1>
<h1 id="play110">110</h1>
<h1 id="play220">220</h1>
<h1 id="play440">440</h1>

</body>

</html>
